<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors" xmlns:dxet="http://schemas.devexpress.com/winfx/2008/xaml/editors/themekeys" xmlns:dxdst="http://schemas.devexpress.com/winfx/2008/xaml/core/themekeys">

    <Style x:Key="ZThumbStyle" TargetType="{x:Type Thumb}">
        <!--BEGIN WPF-->
        <Setter Property="Stylus.IsPressAndHoldEnabled" Value="True" />
        <!--END WPF-->
        <Setter Property="Width" Value="20" />
        <Setter Property="Height" Value="10" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type Thumb}">
                    <Grid>
                        <Rectangle Fill="Transparent" />
                        <Path Data="M0,0 L5,5 0,10 z" Fill="#FF000000" Width="5" HorizontalAlignment="Left" />
                        <Path Data="M 5,0 L0,5 5,10 z" Fill="#FF000000" Width="5" HorizontalAlignment="Right" />
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style x:Key="XYThumbStyle" TargetType="{x:Type Thumb}">
        <!--BEGIN WPF-->
        <Setter Property="Stylus.IsPressAndHoldEnabled" Value="false" />
        <!--END WPF-->
        <Setter Property="Width" Value="21" />
        <Setter Property="Height" Value="21" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type Thumb}">
                    <Grid>
                        <Rectangle Fill="Transparent" />

                        <Path Stretch="Fill" Fill="#FF000000" Stroke="#FFFFFFFF" Data="M0,9 L8,9" Width="9" Height="1" HorizontalAlignment="Left" Margin="0,9,0,0" VerticalAlignment="Top" />
                        <Path Stretch="Fill" Fill="#FF000000" Stroke="#FF000000" Data="M0,10 L8,10" Width="9" HorizontalAlignment="Left" Margin="0,10" />
                        <Path Stretch="Fill" Fill="#FF000000" Stroke="#FFFFFFFF" Data="M0,11 L8,11" Width="9" Height="1" HorizontalAlignment="Left" Margin="0,0,0,9" VerticalAlignment="Bottom" />

                        <Path Stretch="Fill" Fill="#FF000000" Stroke="#FFFFFFFF" Data="M0,9 L8,9" Width="9" Height="1" HorizontalAlignment="Right" Margin="0,9,0,0" VerticalAlignment="Top" />
                        <Path Stretch="Fill" Fill="#FF000000" Stroke="#FF000000" Data="M0,10 L8,10" Width="9" HorizontalAlignment="Right" Margin="0,10" />
                        <Path Stretch="Fill" Fill="#FF000000" Stroke="#FFFFFFFF" Data="M0,11 L8,11" Width="9" Height="1" HorizontalAlignment="Right" Margin="0,0,0,9" VerticalAlignment="Bottom" />

                        <Path Stretch="Fill" Fill="#FF000000" Stroke="#FFFFFFFF" Data="M9,0 L9,8" Width="1" Height="9" HorizontalAlignment="Left" Margin="9,0,0,0" VerticalAlignment="Top" />
                        <Path Stretch="Fill" Fill="#FF000000" Stroke="#FF000000" Data="M10,0 L10,8" Height="9" Margin="10,0" VerticalAlignment="Top" />
                        <Path Stretch="Fill" Fill="#FF000000" Stroke="#FFFFFFFF" Data="M11,0 L11,8" Width="1" Height="9" HorizontalAlignment="Right" Margin="0,0,9,0" VerticalAlignment="Top" />

                        <Path Stretch="Fill" Fill="#FF000000" Stroke="#FFFFFFFF" Data="M9,0 L9,8" Width="1" Height="9" HorizontalAlignment="Left" Margin="9,0,0,0" VerticalAlignment="Bottom" />
                        <Path Stretch="Fill" Fill="#FF000000" Stroke="#FF000000" Data="M10,0 L10,8" Height="9" Margin="10,0" VerticalAlignment="Bottom" />
                        <Path Stretch="Fill" Fill="#FF000000" Stroke="#FFFFFFFF" Data="M11,0 L11,8" Width="1" Height="9" HorizontalAlignment="Right" Margin="0,0,9,0" VerticalAlignment="Bottom" />
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <ControlTemplate x:Key="{dxet:ColorChooserThemeKey ResourceKey=ControlTemplate}" TargetType="{x:Type dxe:ColorChooser}">
        <Border Background="{TemplateBinding Background}" SnapsToDevicePixels="True">
            <Grid x:Name="colorChooser" Margin="12">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>
                <Grid x:Name="left_part">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>
                    <Border x:Name="XY" Background="{DynamicResource {dxet:ColorChooserThemeKey ResourceKey=BackgroundBrush}}" BorderBrush="{DynamicResource {dxet:ColorChooserThemeKey ResourceKey=BorderBrush}}" BorderThickness="1">
                        <Canvas x:Name="PART_xyColorArea" ClipToBounds="True">
                            <Rectangle Fill="#FFFFFFFF" Width="290" Height="240" />
                            <Rectangle x:Name="PART_xColorAreaRect" RenderTransformOrigin="0.5,0.412" Width="240" Height="290">
                                <Rectangle.RenderTransform>
                                    <TransformGroup>
                                        <RotateTransform Angle="-90" />
                                    </TransformGroup>
                                </Rectangle.RenderTransform>
                                <Rectangle.Fill>
                                    <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                        <GradientStop x:Name="xColorStart" Color="#00000000" Offset="0" />
                                        <GradientStop x:Name="xColorEnd" Color="#FFFF0000" Offset="1" />
                                    </LinearGradientBrush>
                                </Rectangle.Fill>
                            </Rectangle>
                            <Rectangle x:Name="PART_yColorAreaRect" RenderTransformOrigin="0.5,0.5" Width="290" Height="240">
                                <Rectangle.Fill>
                                    <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                        <GradientStop x:Name="yColorStart" Color="#00000000" Offset="0" />
                                        <GradientStop x:Name="yColorEnd" Color="#FF000000" Offset="1" />
                                    </LinearGradientBrush>
                                </Rectangle.Fill>
                            </Rectangle>
                            <Canvas Width="21" Height="21" Canvas.Left="{Binding Path=ActualXYThumbXOffset, RelativeSource={RelativeSource TemplatedParent}}" Canvas.Top="{Binding Path=ActualXYThumbYOffset, RelativeSource={RelativeSource TemplatedParent}}">
                                <Rectangle Width="21" Height="21" Fill="Transparent" />

                                <Path Stretch="Fill" Fill="#FF000000" Stroke="#FFFFFFFF" Data="M0,9 L8,9" Width="9" Height="1" Canvas.Left="0" Canvas.Top="9" />
                                <Path Stretch="Fill" Fill="#FF000000" Stroke="#FF000000" Data="M0,10 L8,10" Width="9" Height="1" Canvas.Left="0" Canvas.Top="10" />
                                <Path Stretch="Fill" Fill="#FF000000" Stroke="#FFFFFFFF" Data="M0,11 L8,11" Width="9" Height="1" Canvas.Left="0" Canvas.Top="11" />

                                <Path Stretch="Fill" Fill="#FF000000" Stroke="#FFFFFFFF" Data="M0,9 L8,9" Width="9" Height="1" Canvas.Left="12" Canvas.Top="9" />
                                <Path Stretch="Fill" Fill="#FF000000" Stroke="#FF000000" Data="M0,10 L8,10" Width="9" Height="1" Canvas.Left="12" Canvas.Top="10" />
                                <Path Stretch="Fill" Fill="#FF000000" Stroke="#FFFFFFFF" Data="M0,11 L8,11" Width="9" Height="1" Canvas.Left="12" Canvas.Top="11" />

                                <Path Stretch="Fill" Fill="#FF000000" Stroke="#FFFFFFFF" Data="M9,0 L9,8" Width="1" Height="9" Canvas.Left="9" Canvas.Top="0" />
                                <Path Stretch="Fill" Fill="#FF000000" Stroke="#FF000000" Data="M10,0 L10,8" Width="1" Height="9" Canvas.Left="10" Canvas.Top="0" />
                                <Path Stretch="Fill" Fill="#FF000000" Stroke="#FFFFFFFF" Data="M11,0 L11,8" Width="1" Height="9" Canvas.Left="11" Canvas.Top="0" />

                                <Path Stretch="Fill" Fill="#FF000000" Stroke="#FFFFFFFF" Data="M9,0 L9,8" Width="1" Height="9" Canvas.Left="9" Canvas.Top="12" />
                                <Path Stretch="Fill" Fill="#FF000000" Stroke="#FF000000" Data="M10,0 L10,8" Width="1" Height="9" Canvas.Left="10" Canvas.Top="12" />
                                <Path Stretch="Fill" Fill="#FF000000" Stroke="#FFFFFFFF" Data="M11,0 L11,8" Width="1" Height="9" Canvas.Left="11" Canvas.Top="12" />
                            </Canvas>
                        </Canvas>
                    </Border>
                    <Border x:Name="X" Background="{DynamicResource {dxet:ColorChooserThemeKey ResourceKey=BackgroundBrush}}" BorderBrush="{DynamicResource {dxet:ColorChooserThemeKey ResourceKey=BorderBrush}}" BorderThickness="1" Margin="0,4,0,0" Width="290" Height="18" VerticalAlignment="Center" Grid.Row="1">
                        <Canvas x:Name="PART_aColorArea" ClipToBounds="True">
                            <Rectangle Fill="#FFD3D3D3" Width="290" Height="16" />
                            <Rectangle Width="290" Height="16">
                                <Rectangle.Fill>
                                    <!--BEGIN WPF-->
                                    <DrawingBrush Viewport="0,0,8,8" TileMode="Tile" Stretch="None" ViewportUnits="Absolute">
                                        <DrawingBrush.Drawing>
                                            <DrawingGroup>
                                                <GeometryDrawing Brush="#FFFFFFFF">
                                                    <GeometryDrawing.Geometry>
                                                        <RectangleGeometry Rect="0,0,4,4" />
                                                    </GeometryDrawing.Geometry>
                                                </GeometryDrawing>
                                                <GeometryDrawing Brush="#FFFFFFFF">
                                                    <GeometryDrawing.Geometry>
                                                        <RectangleGeometry Rect="4,4,4,4" />
                                                    </GeometryDrawing.Geometry>
                                                </GeometryDrawing>
                                            </DrawingGroup>
                                        </DrawingBrush.Drawing>
                                    </DrawingBrush>
                                    <!--END WPF-->
                                    <!--ONLY SL
                                    <SolidColorBrush Color="Gray"/>
                                    ONLY SL-->
                                </Rectangle.Fill>
                            </Rectangle>
                            <Rectangle Width="16" Height="290" Canvas.Top="16">
                                <Rectangle.Fill>
                                    <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                                        <GradientStop x:Name="aColorStart" Color="#00FFFFFF" Offset="0" />
                                        <GradientStop x:Name="aColorEnd" Color="#FFFFFFFF" Offset="1" />
                                    </LinearGradientBrush>
                                </Rectangle.Fill>
                                <Rectangle.RenderTransform>
                                    <TransformGroup>
                                        <ScaleTransform ScaleX="1" ScaleY="1" />
                                        <SkewTransform AngleX="0" AngleY="0" />
                                        <RotateTransform Angle="-90" />
                                        <TranslateTransform X="0" Y="0" />
                                    </TransformGroup>
                                </Rectangle.RenderTransform>
                            </Rectangle>
                            <Path x:Name="PART_aThumbUp" Fill="#FF000000" Data="M0,0 L5,5 10,0 z" Width="10" Height="5" Canvas.Left="{Binding Path=ActualAThumbOffset, RelativeSource={RelativeSource TemplatedParent}}" IsHitTestVisible="False" />
                            <Path x:Name="PART_aThumbDown" Fill="#FF000000" Data="M 0,5 L5,0 10,5 z" Canvas.Top="11" Canvas.Left="{Binding Path=ActualAThumbOffset, RelativeSource={RelativeSource TemplatedParent}}" IsHitTestVisible="False" />
                        </Canvas>
                    </Border>
                    <Border x:Name="Y" Background="{DynamicResource {dxet:ColorChooserThemeKey ResourceKey=BackgroundBrush}}" BorderBrush="{DynamicResource {dxet:ColorChooserThemeKey ResourceKey=BorderBrush}}" BorderThickness="1" Margin="4,0,0,0" Grid.Column="1">
                        <Canvas x:Name="PART_resColorArea" Height="240" Width="16" ClipToBounds="True">
                            <Rectangle x:Name="PART_resColorAreaRect" Height="240" Width="16" IsHitTestVisible="True">
                                <Rectangle.Fill>
                                    <LinearGradientBrush x:Name="zColor" EndPoint="0.5,1" StartPoint="0.5,0">
                                        <GradientStop x:Name="zColor1" Color="#FFFF0000" Offset="0" />
                                        <GradientStop x:Name="zColor2" Color="#FFFFFF00" Offset="0.166666" />
                                        <GradientStop x:Name="zColor3" Color="#FF00FF00" Offset="0.333333" />
                                        <GradientStop x:Name="zColor4" Color="#FF00FFFF" Offset="0.5" />
                                        <GradientStop x:Name="zColor5" Color="#FF0000FF" Offset="0.666666" />
                                        <GradientStop x:Name="zColor6" Color="#FFFF00FF" Offset="0.833333" />
                                        <GradientStop x:Name="zColor7" Color="#FFFF0000" Offset="1" />
                                    </LinearGradientBrush>
                                </Rectangle.Fill>
                            </Rectangle>
                            <Path x:Name="PART_zThumbLeft" Data="M0,0 L5,5 0,10 z" Fill="#FF000000" Width="5" Height="10" Canvas.Top="{Binding Path=ActualZThumbOffset, RelativeSource={RelativeSource TemplatedParent}}" IsHitTestVisible="False" />
                            <Path x:Name="PART_zThumbRight" Data="M 5,0 L0,5 5,10 z" Fill="#FF000000" Width="5" Height="10" Canvas.Left="11" Canvas.Top="{Binding Path=ActualZThumbOffset, RelativeSource={RelativeSource TemplatedParent}}" IsHitTestVisible="False" />
                        </Canvas>
                    </Border>
                </Grid>
                <Grid x:Name="right" Margin="16,0,0,0" HorizontalAlignment="Left" Grid.Column="1">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>
                    <StackPanel x:Name="RGBA">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <TextBlock VerticalAlignment="Center" MinWidth="16"><Run Text="R:" /></TextBlock>
                            <dxe:TextEdit MaskType="RegEx" Mask="([01]?\d\d?|2[0-4]\d|25[0-5])" x:Name="PART_rChannel" Grid.Column="1" />
                        </Grid>
                        <Grid Margin="0,4,0,0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <TextBlock VerticalAlignment="Center" MinWidth="16"><Run Text="G:" /></TextBlock>
                            <dxe:TextEdit MaskType="RegEx" Mask="([01]?\d\d?|2[0-4]\d|25[0-5])" x:Name="PART_gChannel" Grid.Column="1" />
                        </Grid>
                        <Grid Margin="0,4,0,0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <TextBlock VerticalAlignment="Center" MinWidth="16"><Run Text="B:" /></TextBlock>
                            <dxe:TextEdit MaskType="RegEx" Mask="([01]?\d\d?|2[0-4]\d|25[0-5])" x:Name="PART_bChannel" Grid.Column="1" />
                        </Grid>
                        <Grid Margin="0,4,0,0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <TextBlock VerticalAlignment="Center" MinWidth="16"><Run Text="A:" /></TextBlock>
                            <dxe:TextEdit MaskType="RegEx" Mask="([01]?\d\d?|2[0-4]\d|25[0-5])" x:Name="PART_aChannel" Grid.Column="1" />
                        </Grid>
                    </StackPanel>
                    <StackPanel x:Name="currentColor" Margin="0,16,0,0" Grid.Row="1" VerticalAlignment="Bottom">
                        <Border Height="75" Background="{DynamicResource {dxet:ColorChooserThemeKey ResourceKey=BorderBrush}}" CornerRadius="4">
                            <Border Margin="1" Background="#FFFFFFFF" CornerRadius="3">
                                <Border Margin="2" CornerRadius="2">
                                    <Border.Background>
                                        <SolidColorBrush Color="{Binding Path=Color, RelativeSource={RelativeSource TemplatedParent}}" />
                                    </Border.Background>
                                </Border>
                            </Border>
                        </Border>
                        <dxe:TextEdit x:Name="PART_ResultColor" MinWidth="80" Margin="0,4,0,0" IsReadOnly="True" EditValue="{Binding Path=Color, RelativeSource={RelativeSource TemplatedParent}}" />
                    </StackPanel>
                </Grid>
            </Grid>
        </Border>
    </ControlTemplate>
</ResourceDictionary>